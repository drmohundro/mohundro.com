
title: "Find-String.ps1 – ack for PowerShell"
author: David
date: 2009/06/11

<p>Never heard of <a href="http://betterthangrep.com/">ack</a>? Well, by ack’s admission, it is “better than grep.” That’s up to you to decide, but it does make searching code easier than grep.</p> <p>As a means of illustration, here is a grep example of a recursive search for StringBuilder across multiple C# files that I used back in <a href="http://www.mohundro.com/blog/2009/05/12/FindingStuffQuicklyOrSearchingThroughCodeEffectively.aspx">my post on “finding stuff quickly.”</a></p> <p><img src="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/Findingstuffquicklyorsearchingthroughcod_BD54/image_thumb_5.png"> </p> <p>The output is pretty nice, but the addition of the find command to limit the searching to only C# files isn’t the easiest to type quickly.</p> <p>ack makes this a little… well, a lot easier.</p> <p><a href="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_2.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_thumb.png" width="503" height="173"></a> </p> <p>Nice! Even EASIER to read than the grep matching. And it is easier to type.</p> <p>Well, of course, I had to add this functionality to Find-String. (Guess what, it runs faster than grep and ack both! At least on Windows…)</p> <p><a href="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_4.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_thumb_1.png" width="594" height="277"></a> </p> <p>Now, this makes… the third post I’ve had on a Find-String PowerShell script I think. At some point, you’re going to get tired of this if you haven’t already. </p> <p>“Is this guy seriously going to post every time he changes the way Find-String works?”</p> <p>No, no, I guess I shouldn’t.</p> <p>But for my own benefit, I do want this in source control. And I’d like to make it easier to use and find this. I’ve been using a local SVN repository for my changes to my scripts, but they included all of my scripts. Well, I moved just the Find-String source over to GitHub yesterday. I even started from the initial version of Find-String and committed my change history over from SVN :-)</p> <p><a href="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_6.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_thumb_2.png" width="624" height="103"></a> </p> <p>For up to date versions of Find-String, they’ll be out there. The URL is <a title="http://github.com/drmohundro/Find-String/tree/master" href="http://github.com/drmohundro/Find-String/tree/master">http://github.com/drmohundro/Find-String/tree/master</a>. If you don’t want to install <a href="http://www.git-scm.com/">git</a> to check the source out, there is a big download button on the project page. It will package up the current version of Find-String for you which you can then download and use to your heart’s content.</p> <p>If you improve upon the script, send me pull requests or a patch and I’d be happy to make it better.</p> <p>&nbsp;</p> <p><strong>Warning, upcoming tangent regarding GitHub adding PowerShell syntax support…</strong></p> <p>My other hope with posting this is that maybe GitHub will add the PowerShell syntax support to GitHub. If you view the source for Find-String on the GitHub website, you won’t see any syntax highlighting.</p> <p><a href="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_8.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_thumb_3.png" width="369" height="250"></a> </p> <p>But… they have syntax highlighting for <em>lots</em> of other file types, as is evidenced by the gists I’ve already shared.</p> <p><a href="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_10.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.mohundro.com/blog/content/binary/WindowsLiveWriter/FindString.ps1ackforPowerShell_7013/image_thumb_4.png" width="430" height="295"></a> </p> <p><a href="http://support.github.com/discussions/feature-requests/327-powershell-as-a-support-language#comment_134001">I already asked for this on the GitHub support site</a>, but it was inexplicably closed with “no more actions from GitHub… are required” and that it is apparently “resolved.” Maybe I shouldn’t worry and the feature just hasn’t gone live yet. In which case, I’m just blabbing on and on for no reason and creating a long tangent to the rest of my post. If <em>not</em>, well, maybe they’ll add support if I complain some more!</p>
